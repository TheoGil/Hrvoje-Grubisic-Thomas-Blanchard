{"version":3,"sources":["js/components/SVGSpritesheet.js","js/components/Menu/MenuToggle.js","js/components/Header.js","js/components/Menu/MenuEntry.js","js/components/Menu/Menu.js","js/components/Column.js","js/components/slideshow/SlideshowCaption.js","js/GL.js","img/transparent-pixel.png","shaders/slideshow/vertex.glsl","shaders/slideshow/fragment.glsl","js/components/slideshow/Slideshow.js","js/components/Loader.js","js/components/slideshow/SlideshowCounter.js","js/components/slideshow/SlideshowControls.js","img/mini-planets.jpg","img/galaxy-gates.jpg","img/kingdom-of-colors.jpg","js/slides.js","videos/mini-planets.mp4","videos/galaxy-gates.mp4","videos/kingdom-of-colours.mp4","js/components/App.js","index.js"],"names":["SVGSpritesheet","style","display","id","viewBox","d","MenuToggle","props","ref","createRef","onClick","bind","this","onToggle","className","active","tabIndex","focusable","Component","Header","logoRef","menuTriggerRef","buttonRef","href","xmlns","onToggleMenu","menuOpen","MenuEntry","labelRef","TL","gsap","timeline","paused","delay","to","current","clipPath","ease","duration","y","timeScale","restart","reverse","src","alt","label","Menu","entriesRefs","slides","map","entriesReverseAnimationsCompletedCount","forEach","animateIn","setState","open","animateOut","focusTrapOptions","escapeDeactivates","clickOutsideDeactivates","allowOutsideClick","returnFocusOnDeactivate","slide","i","caption","poster","key","Column","children","SlideshowCaption","Splitting","target","PARAMS","GL","options","transitionProgress","currentSlideIndex","nextSlideIndex","render","initRenderer","canvas","initGl","initTransparentTexture","initProgram","initGeometry","initMesh","initTextures","slidesCount","requestAnimationFrame","renderer","Renderer","alpha","gl","clearColor","geometry","Triangle","transparentPixelTexture","Texture","img","Image","onload","image","count","textures","push","generateMipmaps","width","height","program","Program","vertex","fragment","uniforms","uTexture1","value","uTexture2","uOffsetAmount","uColumnsCount","uTransitionProgress","uInputResolution","uOutputResolution","uAngle","Math","PI","uScale","mesh","Mesh","setSize","window","innerWidth","innerHeight","videos","video","index","killTweensOf","onUpdate","onComplete","remove","needsUpdate","isTransitionRunning","scene","Slideshow","canvasRef","captionsRefs","goToPreviousSlide","goToNextSlide","onResize","preload","Preload","length","addEventListener","removeEventListener","cancel","dispose","goToSlide","slidesLoaded","previousSlideIndex","animateCaptions","updateCounter","prev","next","animateOutPreviousCaptions","animateInNextCaption","captionEl","chars","querySelectorAll","fromTo","opacity","classList","add","stagger","updateSize","Loader","state","percentLoaded","transform","cx","cy","r","strokeWidth","strokeDashoffset","pathLength","displayPercent","SlideshowCounter","onTransitionComplete","format","containerRef","onCompleteParams","set","number","slice","Button","xlinkHref","icon","SlideshowControls","forwardRef","previous","slide1PosterSrc","slide3PosterSrc","slide4PosterSrc","App","menuRef","loaderRef","slideshowRef","counterRef","line1Ref","line2Ref","headerRef","slideshowControlsRef","infosRef","onLoadProgress","onLoadComplete","preloader","preloadSlides","fetch","oncomplete","canPlayPromises","document","createElement","getItemByUrl","blobUrl","loop","muted","play","Promise","resolve","attachVideosToEmptyTextures","all","then","onprogress","event","progress","updatePercentLoaded","scaleY","close","setTimeout","rel","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c7364a01.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nfunction SVGSpritesheet() {\r\n  return (\r\n    <svg\r\n      style={{\r\n        display: \"none\",\r\n      }}\r\n    >\r\n      <defs>\r\n        <symbol id=\"arrow-left\" viewBox=\"0 0 241 241\">\r\n          <desc>Arrow pointing to the left</desc>\r\n          <path d=\"M58 129l108 108c5 5 12 5 17 0 5-4 5-12 0-17L83 120l100-99a12 12 0 10-17-17L58 112c-5 5-5 12 0 17z\" />\r\n        </symbol>\r\n\r\n        <symbol id=\"arrow-right\" viewBox=\"0 0 241 241\">\r\n          <desc>Arrow pointing to the right</desc>\r\n          <path d=\"M183 112L75 4c-5-5-13-5-17 0-5 4-5 12 0 17l99 99-99 100a12 12 0 1017 17l108-108c5-5 5-13 0-17z\" />\r\n        </symbol>\r\n\r\n        <symbol id=\"arrow-down\" viewBox=\"0 0 241 241\">\r\n          <desc>Arrow pointing down</desc>\r\n          <path d=\"M220 58l-100 99-99-99A12 12 0 104 75l108 108c5 5 12 5 17 0L237 75c5-5 5-13 0-17-4-5-12-5-17 0z\" />\r\n        </symbol>\r\n      </defs>\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default SVGSpritesheet;\r\n","import React, { Component, createRef } from \"react\";\r\n\r\nclass MenuToggle extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.ref = createRef();\r\n\r\n    this.onClick = this.onClick.bind(this);\r\n  }\r\n\r\n  onClick() {\r\n    this.props.onToggle();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <button\r\n        className={`burger-button ${this.props.active ? \"active\" : \"\"}`}\r\n        onClick={this.onClick}\r\n        tabIndex={this.props.focusable ? 0 : -1}\r\n        ref={this.ref}\r\n      >\r\n        <div className=\"slices-container\">\r\n          <div className=\"slice top\"></div>\r\n          <div className=\"slice middle\"></div>\r\n          <div className=\"slice bottom\"></div>\r\n        </div>\r\n      </button>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuToggle;\r\n","import React, { Component, createRef } from \"react\";\r\nimport MenuToggle from \"./Menu/MenuToggle\";\r\n\r\nclass Header extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.logoRef = createRef();\r\n    this.menuTriggerRef = createRef();\r\n    this.buttonRef = createRef();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"header\">\r\n        <div className=\"header-column\">\r\n          <button href=\"#\" className=\"logo\" ref={this.logoRef}>\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 24 24\"\r\n              className=\"logo-svg\"\r\n            >\r\n              <path d=\"M12 2a10 10 0 110 20 10 10 0 010-20zm0-2a12 12 0 100 24 12 12 0 000-24zm5.5 14a8.4 8.4 0 01-5.5 1.9c-2.3 0-4-.8-5.5-2l-.5.5c1.1 1.8 3.2 3.6 6 3.6s4.9-1.8 6-3.6l-.5-.5zm-9-6a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm7 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z\" />\r\n            </svg>\r\n          </button>\r\n\r\n          <MenuToggle\r\n            ref={this.menuTriggerRef}\r\n            onToggle={this.props.onToggleMenu}\r\n            active={this.props.menuOpen}\r\n            focusable={true}\r\n          />\r\n        </div>\r\n        <div className=\"header-column\">\r\n          <button className=\"button right\" ref={this.buttonRef}>\r\n            Button\r\n          </button>\r\n        </div>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React, { Component, createRef } from \"react\";\r\nimport gsap from \"gsap\";\r\n\r\nclass MenuEntry extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.ref = createRef();\r\n    this.labelRef = createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.TL = gsap.timeline({\r\n      paused: true,\r\n      delay: this.props.delay,\r\n    });\r\n\r\n    this.TL.to(this.ref.current, {\r\n      clipPath: \"inset(0 0% 0 0)\",\r\n      ease: \"power4.out\",\r\n      duration: 1,\r\n    });\r\n\r\n    this.TL.to(\r\n      this.labelRef.current,\r\n      {\r\n        y: \"0%\",\r\n        ease: \"power2.out\",\r\n        duration: 1,\r\n      },\r\n      \"-=.75\"\r\n    );\r\n  }\r\n\r\n  animateIn() {\r\n    this.TL.timeScale(1).restart(true);\r\n  }\r\n\r\n  animateOut() {\r\n    this.TL.timeScale(2).reverse();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <li className=\"menu-entry\" ref={this.ref}>\r\n        <button\r\n          className=\"menu-entry-link\"\r\n          tabIndex={this.props.focusable ? 0 : -1}\r\n          onClick={this.props.onClick}\r\n        >\r\n          <img\r\n            className=\"menu-entry-picture\"\r\n            src={this.props.src}\r\n            alt={this.props.alt}\r\n          />\r\n          <div className=\"menu-entry-label-container\">\r\n            <div className=\"menu-entry-label\" ref={this.labelRef}>\r\n              {this.props.label}\r\n            </div>\r\n          </div>\r\n        </button>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MenuEntry;\r\n","import React, { Component, createRef, Fragment } from \"react\";\r\nimport MenuEntry from \"./MenuEntry\";\r\nimport MenuToggle from \"./MenuToggle\";\r\nimport FocusTrap from \"focus-trap-react\";\r\n\r\nclass Menu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.ref = createRef();\r\n\r\n    this.entriesRefs = this.props.slides.map(() => createRef());\r\n\r\n    this.entriesReverseAnimationsCompletedCount = 0;\r\n  }\r\n\r\n  open() {\r\n    this.entriesRefs.forEach((ref) => {\r\n      ref.current.animateIn();\r\n    });\r\n  }\r\n\r\n  close() {\r\n    this.setState({\r\n      open: false,\r\n    });\r\n\r\n    this.entriesRefs.forEach((ref) => {\r\n      ref.current.animateOut();\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const staggerAmount = 0.1;\r\n    const initialDelay = 0.1;\r\n\r\n    return (\r\n      <Fragment>\r\n        <FocusTrap\r\n          active={this.props.active}\r\n          focusTrapOptions={{\r\n            escapeDeactivates: false,\r\n            clickOutsideDeactivates: false, // We are handling the \"click outside to close\" on our end\r\n            allowOutsideClick: true,\r\n            returnFocusOnDeactivate: true,\r\n          }}\r\n        >\r\n          <nav\r\n            className={`menu ${this.props.active ? \"active\" : \"\"}`}\r\n            ref={this.ref}\r\n          >\r\n            <MenuToggle\r\n              onToggle={this.props.onToggle}\r\n              active={this.props.active}\r\n              focusable={this.props.active}\r\n            />\r\n\r\n            <ul className=\"menu-entries-list\">\r\n              {this.props.slides.map((slide, i) => (\r\n                <MenuEntry\r\n                  label={slide.caption}\r\n                  src={slide.poster}\r\n                  alt=\"\"\r\n                  key={i}\r\n                  ref={this.entriesRefs[i]}\r\n                  focusable={this.props.active}\r\n                  delay={i * staggerAmount + initialDelay}\r\n                  onClick={() => {\r\n                    this.props.onToggle(i);\r\n                  }}\r\n                />\r\n              ))}\r\n            </ul>\r\n          </nav>\r\n        </FocusTrap>\r\n        <div className=\"menu-overlay\" onClick={this.props.onToggle}></div>\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Menu;\r\n","import React from \"react\";\r\n\r\nfunction Column(props) {\r\n  return <div className=\"column\">{props.children}</div>;\r\n}\r\nexport default Column;\r\n","import React, { Component, createRef } from \"react\";\r\nimport Splitting from \"splitting\";\r\n\r\nclass SlideshowCaption extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ref = createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    Splitting({\r\n      target: this.ref.current,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <p className=\"slideshow-caption\" ref={this.ref}>\r\n        {this.props.caption}\r\n      </p>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SlideshowCaption;\r\n","import { Renderer, Triangle, Program, Mesh, Texture } from \"ogl\";\r\n// import Tweakpane from \"tweakpane\";\r\nimport gsap from \"gsap\";\r\nimport fragment from \"../shaders/slideshow/fragment.glsl\";\r\nimport vertex from \"../shaders/slideshow/vertex.glsl\";\r\nimport transparentPixelSrc from \"../img/transparent-pixel.png\";\r\n\r\nconst PARAMS = {\r\n  offsetAmount: 2.25,\r\n  columnsCount: 3,\r\n};\r\n\r\nclass GL {\r\n  constructor(options) {\r\n    this.transitionProgress = 0;\r\n    this.currentSlideIndex = 0;\r\n    this.nextSlideIndex = 0;\r\n\r\n    this.render = this.render.bind(this);\r\n\r\n    this.initRenderer(options.canvas);\r\n    this.initGl();\r\n    this.initTransparentTexture();\r\n    this.initProgram();\r\n    this.initGeometry();\r\n    this.initMesh();\r\n    this.initTextures(options.slidesCount);\r\n    // this.initGUI();\r\n\r\n    requestAnimationFrame(this.render);\r\n  }\r\n\r\n  initRenderer(canvas) {\r\n    this.renderer = new Renderer({\r\n      canvas,\r\n      alpha: true,\r\n    });\r\n  }\r\n\r\n  initGl() {\r\n    this.gl = this.renderer.gl;\r\n    this.gl.clearColor(0.0666, 0.098, 0.1686, 1);\r\n  }\r\n\r\n  initGeometry() {\r\n    // Rather than using a plane (two triangles) to cover the viewport here is a\r\n    // triangle that includes -1 to 1 range for 'position', and 0 to 1 range for 'uv'.\r\n    // Excess will be out of the viewport.\r\n\r\n    //         position                uv\r\n    //      (-1, 3)                  (0, 2)\r\n    //         |\\                      |\\\r\n    //         |__\\(1, 1)              |__\\(1, 1)\r\n    //         |__|_\\                  |__|_\\\r\n    //   (-1, -1)   (3, -1)        (0, 0)   (2, 0)\r\n    this.geometry = new Triangle(this.gl);\r\n  }\r\n\r\n  initTransparentTexture() {\r\n    this.transparentPixelTexture = new Texture(this.gl);\r\n    const img = new Image();\r\n    img.src = transparentPixelSrc;\r\n    img.onload = () => (this.transparentPixelTexture.image = img);\r\n  }\r\n\r\n  initTextures(count) {\r\n    this.textures = [];\r\n\r\n    for (let i = 0; i < count; i++) {\r\n      // Init empty texture while source loading\r\n      this.textures.push(\r\n        new Texture(this.gl, {\r\n          generateMipmaps: false,\r\n          width: 1920, // @TODO Dynamically set size based on video actual size\r\n          height: 1080, // @TODO Dynamically set size based on video actual size\r\n        })\r\n      );\r\n    }\r\n  }\r\n\r\n  initProgram() {\r\n    this.program = new Program(this.gl, {\r\n      vertex,\r\n      fragment,\r\n      uniforms: {\r\n        uTexture1: { value: this.transparentPixelTexture },\r\n        uTexture2: { value: this.transparentPixelTexture },\r\n        uOffsetAmount: { value: PARAMS.offsetAmount },\r\n        uColumnsCount: { value: PARAMS.columnsCount },\r\n        uTransitionProgress: { value: this.transitionProgress },\r\n        uInputResolution: { value: [16, 9] }, // @TODO dynamically retrieve real slide dimensions\r\n        uOutputResolution: { value: [0, 0] }, // Will be set from the updateSize method\r\n        uAngle: { value: (45 * Math.PI) / 180 },\r\n        uScale: { value: 3 },\r\n      },\r\n    });\r\n  }\r\n\r\n  initMesh() {\r\n    this.mesh = new Mesh(this.gl, {\r\n      geometry: this.geometry,\r\n      program: this.program,\r\n    });\r\n  }\r\n\r\n  /*\r\n  initGUI() {\r\n    this.tweakpane = new Tweakpane();\r\n\r\n    this.tweakpane\r\n      .addInput(PARAMS, \"columnsCount\", {\r\n        min: 1,\r\n        max: 10,\r\n        step: 1,\r\n      })\r\n      .on(\"change\", (value) => {\r\n        this.program.uniforms.uColumnsCount.value = value;\r\n      });\r\n\r\n    this.tweakpane\r\n      .addInput(PARAMS, \"offsetAmount\", {\r\n        min: 0,\r\n        max: 10,\r\n      })\r\n      .on(\"change\", (value) => {\r\n        this.program.uniforms.uOffsetAmount.value = value;\r\n      });\r\n\r\n    this.tweakpane\r\n      .addInput(this, \"transitionProgress\", {\r\n        min: 0,\r\n        max: 1,\r\n      })\r\n      .on(\"change\", (value) => {\r\n        this.program.uniforms.uTransitionProgress.value = value;\r\n      });\r\n  }\r\n  */\r\n\r\n  updateSize() {\r\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\r\n    this.program.uniforms.uOutputResolution.value = [\r\n      window.innerWidth,\r\n      window.innerHeight,\r\n    ];\r\n  }\r\n\r\n  attachVideosToEmptyTextures(videos) {\r\n    videos.forEach((video, i) => {\r\n      this.textures[i].image = video;\r\n    });\r\n  }\r\n\r\n  isTransitionRunning() {\r\n    return this.transitionProgress !== 0;\r\n  }\r\n\r\n  goToSlide(index) {\r\n    this.nextSlideIndex = index;\r\n\r\n    this.program.uniforms.uTexture2.value = this.textures[index];\r\n    gsap.killTweensOf(this);\r\n    gsap.to(this, {\r\n      transitionProgress: 1,\r\n      duration: 1.5,\r\n      ease: \"power2.out\",\r\n      onUpdate: () => {\r\n        this.program.uniforms.uTransitionProgress.value = this.transitionProgress;\r\n      },\r\n      onComplete: () => {\r\n        this.transitionProgress = 0;\r\n        this.currentSlideIndex = index;\r\n        this.program.uniforms.uTexture1.value = this.textures[index];\r\n      },\r\n    });\r\n  }\r\n\r\n  dispose() {\r\n    this.program.remove();\r\n    this.geometry.remove();\r\n  }\r\n\r\n  render() {\r\n    requestAnimationFrame(this.render);\r\n\r\n    if (this.textures && this.textures[this.currentSlideIndex].image) {\r\n      this.textures[this.currentSlideIndex].needsUpdate = true;\r\n    }\r\n\r\n    if (\r\n      this.textures &&\r\n      this.isTransitionRunning() &&\r\n      this.textures[this.nextSlideIndex].image\r\n    ) {\r\n      this.textures[this.nextSlideIndex].needsUpdate = true;\r\n    }\r\n\r\n    this.renderer.render({ scene: this.mesh });\r\n  }\r\n}\r\n\r\nexport default GL;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi+P//PwNAgAEACPwC/tuiTRYAAAAASUVORK5CYII=\"","export default \"attribute vec2 uv;\\r\\nattribute vec2 position;\\r\\nvarying vec2 vUv;\\r\\n\\r\\nvoid main() {\\r\\n    vUv = uv;\\r\\n    gl_Position = vec4(position, 0, 1);\\r\\n}\";","export default \"precision mediump float;\\r\\nvarying vec2 vUv;\\r\\nuniform sampler2D uTexture1;\\r\\nuniform sampler2D uTexture2;\\r\\nuniform float uOffsetAmount;\\r\\nuniform float uColumnsCount;\\r\\nuniform float uTransitionProgress;\\r\\nuniform float uAngle;\\r\\nuniform float uScale;\\r\\nuniform vec2 uInputResolution;\\r\\nuniform vec2 uOutputResolution;\\r\\n\\r\\n// Rewritten version of this snippet ->\\r\\n// https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44\\r\\nvec2 backgroundCover(vec2 coords) {\\r\\n    // Aliases for readability\\r\\n    vec2 inRes = uInputResolution;\\r\\n    vec2 outRes = uOutputResolution;\\r\\n\\r\\n    vec2 new = vec2(inRes.x * outRes.y / inRes.y, outRes.y);\\r\\n    vec2 offset = vec2((new.x - outRes.x) / 2.0, 0.0);\\r\\n    \\r\\n    float outputAspect = outRes.x / outRes.y;\\r\\n    float inputAspect = inRes.x / inRes.y;\\r\\n    if (outputAspect >= inputAspect) {\\r\\n        new = vec2(outRes.x, inRes.y * outRes.x / inRes.x);\\r\\n        offset = vec2(0.0, (new.y - outRes.y) / 2.0);\\r\\n    }\\r\\n    \\r\\n    offset = offset / new;\\r\\n\\r\\n    return coords * outRes / new + offset;\\r\\n}\\r\\n\\r\\nvec2 rotate2D(vec2 p, float theta) {\\r\\n    return p * mat2(cos(theta), -sin(theta), sin(theta), cos(theta));\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n    vec2 uv = backgroundCover(vUv);\\r\\n    gl_FragColor = texture2D(uTexture1, uv);\\r\\n\\r\\n    // Compute the index of the current column, based on the X position and the total number of columns\\r\\n    // Make sure to use vUv and not the uv, otherwise the end stripes might be cropped\\r\\n    float currentColumnIndex = floor(vUv.x * uColumnsCount) / uColumnsCount;\\r\\n\\r\\n    float progress = 1. - uTransitionProgress;\\r\\n    \\r\\n    // Compute the columns vertical offset based on X position \\r\\n    float columnYOff = currentColumnIndex * uOffsetAmount;\\r\\n    \\r\\n    // Use the transition progress to modulate the amount of offset applied\\r\\n    float yOff = progress + columnYOff * progress;\\r\\n    \\r\\n    vec2 coords = vec2(uv.x, uv.y + yOff);\\r\\n\\r\\n    if (coords.y < 1.) {\\r\\n        // Compute rotation angle based on transition progression\\r\\n        float angle = uAngle * (1. - uTransitionProgress);\\r\\n        float scale = (uScale - 1.) * (1. - uTransitionProgress) + 1.;\\r\\n    \\r\\n        // Move origin\\r\\n        coords -= vec2(0.5);\\r\\n\\r\\n        // Apply scale\\r\\n        coords = coords / scale;\\r\\n\\r\\n        // Apply rotation\\r\\n        // Credits -> https://www.shadertoy.com/view/3dXBR7\\r\\n\\t    coords.x *= uInputResolution.x / uInputResolution.y;\\r\\n\\t    coords = rotate2D(coords, angle);\\r\\n\\t    coords.x *= 1.0 / (uInputResolution.x / uInputResolution.y);\\r\\n\\t\\r\\n        // Reset origin\\r\\n        coords += vec2(0.5);\\r\\n\\r\\n        gl_FragColor = texture2D(uTexture2, coords);\\r\\n    }\\r\\n}\";","import React, { Component, createRef } from \"react\";\r\nimport Preload from \"preload-it\";\r\nimport gsap from \"gsap\";\r\n\r\nimport SlideshowCaption from \"./SlideshowCaption\";\r\n\r\nimport GL from \"../../GL\";\r\n\r\nclass Slideshow extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.canvasRef = createRef();\r\n    this.ref = createRef();\r\n    this.captionsRefs = this.props.slides.map(() => createRef());\r\n\r\n    this.goToPreviousSlide = this.goToPreviousSlide.bind(this);\r\n    this.goToNextSlide = this.goToNextSlide.bind(this);\r\n    this.onResize = this.onResize.bind(this);\r\n\r\n    this.preload = Preload();\r\n    this.currentSlideIndex = 0;\r\n    this.nextSlideIndex = 0;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.gl = new GL({\r\n      canvas: this.canvasRef.current,\r\n      slidesCount: this.props.slides.length,\r\n    });\r\n    this.onResize(); // Trigger resize right away to set the initial size of the plane\r\n    window.addEventListener(\"resize\", this.onResize);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.onResize);\r\n    this.preload.cancel();\r\n    this.gl.dispose();\r\n  }\r\n\r\n  goToNextSlide() {\r\n    let index =\r\n      this.currentSlideIndex === this.props.slides.length - 1\r\n        ? 0\r\n        : this.currentSlideIndex + 1;\r\n    this.goToSlide(index);\r\n  }\r\n\r\n  goToPreviousSlide() {\r\n    let index =\r\n      this.currentSlideIndex === 0\r\n        ? this.props.slides.length - 1\r\n        : this.currentSlideIndex - 1;\r\n    this.goToSlide(index);\r\n  }\r\n\r\n  goToSlide(index) {\r\n    if (this.props.slidesLoaded && !this.gl.isTransitionRunning()) {\r\n      const previousSlideIndex = this.currentSlideIndex;\r\n      this.currentSlideIndex = index;\r\n\r\n      this.animateCaptions(previousSlideIndex, this.currentSlideIndex);\r\n\r\n      // Add 1 to the displayed index because we want to start at index 1\r\n      // this.counterRef.current.goToSlide();\r\n      this.props.updateCounter(this.currentSlideIndex + 1);\r\n\r\n      this.gl.goToSlide(this.currentSlideIndex);\r\n    }\r\n  }\r\n\r\n  animateCaptions(prev, next) {\r\n    this.animateOutPreviousCaptions(prev, next);\r\n    this.animateInNextCaption(next);\r\n  }\r\n\r\n  animateOutPreviousCaptions(prev, next) {\r\n    // When calling goToSlide for the very first time, prev === next ===0\r\n    // As every caption is hidden by default, no need to try to hide caption\r\n    if (prev !== next) {\r\n      const captionEl = this.captionsRefs[prev].current.ref.current;\r\n      const chars = captionEl.querySelectorAll(\".char\");\r\n\r\n      // To prevent tween from colliding, kill previous tweens affecting previous caption's .char\r\n      gsap.killTweensOf(chars);\r\n\r\n      gsap.fromTo(\r\n        chars,\r\n        {\r\n          opacity: 1,\r\n        },\r\n        {\r\n          opacity: 0,\r\n          duration: 0.5,\r\n          ease: \"power2.out\",\r\n          onComplete: () => {\r\n            // Set the display to none and prevent pointer interactions\r\n            captionEl.classList.remove(\"active\");\r\n          },\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  animateInNextCaption(next) {\r\n    const captionEl = this.captionsRefs[next].current.ref.current;\r\n\r\n    // Set display to block and allow pointer interactions\r\n    captionEl.classList.add(\"active\");\r\n\r\n    const chars = captionEl.querySelectorAll(\".char\");\r\n\r\n    // To prevent tween from colliding, kill previous tweens affecting next caption's .char\r\n    gsap.killTweensOf(chars);\r\n\r\n    gsap.fromTo(\r\n      chars,\r\n      {\r\n        y: \"100%\",\r\n        opacity: 1,\r\n      },\r\n      {\r\n        y: \"0%\",\r\n        stagger: 0.025,\r\n        duration: 1,\r\n        ease: \"power2.out\",\r\n      }\r\n    );\r\n  }\r\n\r\n  onResize() {\r\n    this.gl.updateSize();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"slideshow grow\" ref={this.ref}>\r\n        <canvas ref={this.canvasRef} className=\"gl\" />\r\n        <div className=\"slideshow-captions-container\">\r\n          {this.props.slides.map((slide, i) => (\r\n            <SlideshowCaption\r\n              caption={slide.caption}\r\n              key={i}\r\n              ref={this.captionsRefs[i]}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Slideshow;\r\n","import React, { Component, createRef } from \"react\";\r\nimport gsap from \"gsap\";\r\n\r\nclass Loader extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.ref = createRef();\r\n    this.state = {\r\n      percentLoaded: 0,\r\n    };\r\n  }\r\n\r\n  updatePercentLoaded(percentLoaded) {\r\n    this.setState({ percentLoaded });\r\n  }\r\n\r\n  displayPercent() {\r\n    return `${this.state.percentLoaded}%`;\r\n  }\r\n\r\n  animateOut() {\r\n    gsap.to(this.ref.current, {\r\n      y: \"-100%\",\r\n      opacity: 0,\r\n      duration: 1,\r\n      ease: \"power2.out\",\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"loader\" ref={this.ref}>\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          viewBox=\"0 0 513.6 513.6\"\r\n          className=\"loader-svg\"\r\n        >\r\n          <g transform=\"translate(-162.95 -200.47)\">\r\n            <circle cx=\"419.75\" cy=\"457.27\" r=\"249.3\" strokeWidth=\"1.4\" />\r\n            <path\r\n              style={{\r\n                strokeDashoffset: 100 - this.state.percentLoaded,\r\n              }}\r\n              className=\"loader-svg-path\"\r\n              pathLength=\"100\"\r\n              strokeWidth=\"15\"\r\n              d=\"M170.45 457.27a249.3 249.3 0 01249.3-249.3 249.3 249.3 0 01249.3 249.3 249.3 249.3 0 01-249.3 249.3 249.3 249.3 0 01-249.3-249.3z\"\r\n            />\r\n          </g>\r\n        </svg>\r\n        <div className=\"loader-percent\">{this.displayPercent()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Loader;\r\n","import React, { Component, createRef } from \"react\";\r\nimport gsap from \"gsap\";\r\n\r\nclass SlideshowCounter extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.onTransitionComplete = this.onTransitionComplete.bind(this);\r\n    this.format = this.format.bind(this);\r\n\r\n    this.ref = createRef();\r\n    this.containerRef = createRef();\r\n\r\n    this.state = {\r\n      currentSlideIndex: 0,\r\n      nextSlideIndex: 0,\r\n    };\r\n  }\r\n\r\n  goToSlide(index) {\r\n    this.setState({\r\n      nextSlideIndex: index,\r\n    });\r\n\r\n    gsap.killTweensOf(this.containerRef.current);\r\n    gsap.to(this.containerRef.current, {\r\n      y: \"-100%\",\r\n      duration: 1,\r\n      ease: \"power2.out\",\r\n      onComplete: this.onTransitionComplete,\r\n      onCompleteParams: [index],\r\n    });\r\n  }\r\n\r\n  onTransitionComplete(index) {\r\n    this.setState({\r\n      currentSlideIndex: index,\r\n    });\r\n\r\n    gsap.set(this.containerRef.current, {\r\n      y: \"0%\",\r\n    });\r\n  }\r\n\r\n  format(number) {\r\n    return (\"0\" + number).slice(-2);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"slideshow-counter\" ref={this.ref}>\r\n        <div className=\"current-slide-number-container\" ref={this.containerRef}>\r\n          <div className=\"slideshow-counter-number current-slide-number-current\">\r\n            {this.format(this.state.currentSlideIndex)}\r\n          </div>\r\n          <div className=\"slideshow-counter-number current-slide-number-next\">\r\n            {this.format(this.state.nextSlideIndex)}\r\n          </div>\r\n        </div>\r\n        <div className=\"total-slides-number slideshow-counter-number\">\r\n          {this.format(this.props.slidesCount)}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SlideshowCounter;\r\n","import React, { forwardRef } from \"react\";\r\n\r\nfunction Button(props) {\r\n  return (\r\n    <button className=\"slideshow-controls-button\" onClick={props.onClick}>\r\n      <svg className=\"slideshow-controls-icon\">\r\n        <use xlinkHref={`#${props.icon}`} />\r\n      </svg>\r\n    </button>\r\n  );\r\n}\r\n\r\nconst SlideshowControls = forwardRef((props, ref) => {\r\n  return (\r\n    <div className=\"slideshow-controls\" ref={ref}>\r\n      <Button icon=\"arrow-left\" onClick={props.previous} />\r\n      <Button icon=\"arrow-right\" onClick={props.next} />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default SlideshowControls;\r\n","export default __webpack_public_path__ + \"static/media/mini-planets.bd14c578.jpg\";","export default __webpack_public_path__ + \"static/media/galaxy-gates.66014612.jpg\";","export default __webpack_public_path__ + \"static/media/kingdom-of-colors.439da5b7.jpg\";","import slide1PosterSrc from \"../img/mini-planets.jpg\";\r\n// import slide2PosterSrc from \"../img/the-empire-of-c.jpg\";\r\nimport slide3PosterSrc from \"../img/galaxy-gates.jpg\";\r\nimport slide4PosterSrc from \"../img/kingdom-of-colors.jpg\";\r\n\r\nimport slide1VideoSrc from \"../videos/mini-planets.mp4\";\r\n// import slide2VideoSrc from \"../videos/the-empire-of-c.mp4\";\r\nimport slide3VideoSrc from \"../videos/galaxy-gates.mp4\";\r\nimport slide4VideoSrc from \"../videos/kingdom-of-colours.mp4\";\r\n\r\nconst slides = [\r\n  {\r\n    src: slide1VideoSrc,\r\n    poster: slide1PosterSrc,\r\n    caption: \"Mini Planets\",\r\n  },\r\n\r\n  /*\r\n  {\r\n    src: slide2VideoSrc,\r\n    poster: slide2PosterSrc,\r\n    caption: \"The Empire Of C\",\r\n  },\r\n\r\n  */\r\n  {\r\n    src: slide3VideoSrc,\r\n    poster: slide3PosterSrc,\r\n    caption: \"Galaxy Gates\",\r\n  },\r\n  {\r\n    src: slide4VideoSrc,\r\n    poster: slide4PosterSrc,\r\n    caption: \"Kingom of Colours\",\r\n  },\r\n];\r\n\r\nexport default slides;\r\n","export default __webpack_public_path__ + \"static/media/mini-planets.e50c448a.mp4\";","export default __webpack_public_path__ + \"static/media/galaxy-gates.8fb1d702.mp4\";","export default __webpack_public_path__ + \"static/media/kingdom-of-colours.fa694201.mp4\";","import React, { Component, createRef } from \"react\";\nimport Preload from \"preload-it\";\nimport gsap from \"gsap\";\n\nimport SVGSpritesheet from \"./SVGSpritesheet\";\nimport Header from \"./Header\";\nimport Menu from \"./Menu/Menu\";\nimport Column from \"./Column\";\nimport Slideshow from \"./slideshow/Slideshow\";\nimport Loader from \"./Loader\";\nimport SlideshowCounter from \"./slideshow/SlideshowCounter\";\nimport SlideshowControls from \"./slideshow/SlideshowControls\";\nimport slides from \"../slides\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.menuRef = createRef();\n    this.loaderRef = createRef();\n    this.slideshowRef = createRef();\n    this.counterRef = createRef();\n    this.line1Ref = createRef();\n    this.line2Ref = createRef();\n    this.headerRef = createRef();\n    this.slideshowControlsRef = createRef();\n    this.infosRef = createRef();\n\n    this.onLoadProgress = this.onLoadProgress.bind(this);\n    this.onLoadComplete = this.onLoadComplete.bind(this);\n    this.onToggleMenu = this.onToggleMenu.bind(this);\n    this.goToPreviousSlide = this.goToPreviousSlide.bind(this);\n    this.goToNextSlide = this.goToNextSlide.bind(this);\n    this.updateCounter = this.updateCounter.bind(this);\n\n    this.state = {\n      menuOpen: false,\n      slidesLoaded: false,\n    };\n\n    this.slides = slides;\n    this.entriesReverseAnimationsCompletedCount = 0;\n\n    this.preloader = Preload();\n  }\n\n  componentDidMount() {\n    this.preloadSlides();\n  }\n\n  preloadSlides() {\n    this.preloader.fetch(this.slides.map((slide) => slide.src));\n\n    this.preloader.oncomplete = () => {\n      const canPlayPromises = [];\n\n      this.slides.forEach((slide) => {\n        slide.video = document.createElement(\"video\");\n        slide.video.src = this.preloader.getItemByUrl(slide.src).blobUrl;\n\n        // Disclaimer: video autoplay is a confusing, constantly-changing browser feature.\n        // The best approach is to never assume that it will work, and therefore prepare for a fallback.\n        // Tested on mac: Chrome, Safari, Firefox; android: chrome\n        slide.video.loop = true;\n        slide.video.muted = true;\n        slide.video.play();\n        // TODO: test ios. Possible add following\n        // slide.video.setAttribute('crossorigin', 'anonymous');\n        // slide.video.setAttribute('webkit-playsinline', true);\n        // slide.video.setAttribute('playsinline', true);\n\n        canPlayPromises.push(\n          new Promise((resolve) => {\n            slide.video.addEventListener(\"canplay\", resolve);\n          })\n        );\n      });\n\n      this.slideshowRef.current.gl.attachVideosToEmptyTextures(\n        this.slides.map((slide) => slide.video)\n      );\n\n      Promise.all(canPlayPromises).then(() => {\n        this.setState(\n          {\n            slidesLoaded: true,\n          },\n          this.onLoadComplete\n        );\n      });\n    };\n\n    this.preloader.onprogress = (event) => {\n      this.onLoadProgress(event.progress);\n    };\n  }\n\n  onLoadProgress(progress) {\n    this.loaderRef.current.updatePercentLoaded(progress);\n  }\n\n  onLoadComplete() {\n    this.loaderRef.current.animateOut();\n    this.slideshowRef.current.goToSlide(0);\n\n    const TL = gsap.timeline();\n\n    TL.to([this.line1Ref.current, this.line2Ref.current], {\n      scaleY: 1,\n      duration: 1.5,\n      stagger: 0.225,\n      ease: \"power2.out\",\n    });\n\n    TL.to(\n      [\n        this.headerRef.current.logoRef.current,\n        this.headerRef.current.menuTriggerRef.current.ref.current,\n        this.headerRef.current.buttonRef.current,\n        this.counterRef.current.ref.current,\n        this.slideshowControlsRef.current,\n        this.infosRef.current,\n      ],\n      {\n        opacity: 1,\n        y: 0,\n        duration: 1,\n        stagger: 0.1,\n        ease: \"power2.out\",\n      }\n    );\n  }\n\n  onToggleMenu(index) {\n    this.setState({ menuOpen: !this.state.menuOpen });\n    if (this.state.menuOpen) {\n      this.menuRef.current.close();\n\n      if (typeof index === \"number\") {\n        // Yes it is ugly but I could not come up with a better way\n        // to waity for all the menu entries to fire the reverseComplete event...\n        window.setTimeout(() => {\n          this.slideshowRef.current.goToSlide(index);\n        }, 800);\n      }\n    } else {\n      this.menuRef.current.open();\n    }\n  }\n\n  goToNextSlide() {\n    this.slideshowRef.current.goToNextSlide();\n  }\n\n  goToPreviousSlide() {\n    this.slideshowRef.current.goToPreviousSlide();\n  }\n\n  updateCounter(index) {\n    this.counterRef.current.goToSlide(index);\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <SVGSpritesheet />\n\n        <Header\n          onToggleMenu={this.onToggleMenu}\n          menuOpen={this.state.menuOpen}\n          ref={this.headerRef}\n        />\n\n        <Loader ref={this.loaderRef} />\n\n        <Slideshow\n          onLoadProgress={this.onLoadProgress}\n          onLoadComplete={this.onLoadComplete}\n          updateCounter={this.updateCounter}\n          ref={this.slideshowRef}\n          slides={this.slides}\n          slidesLoaded={this.state.slidesLoaded}\n        />\n\n        <div className=\"line\" ref={this.line1Ref}></div>\n        <div className=\"line line-last\" ref={this.line2Ref}></div>\n\n        <Menu\n          ref={this.menuRef}\n          active={this.state.menuOpen}\n          onToggle={this.onToggleMenu}\n          slides={this.slides}\n        />\n\n        <footer className=\"footer\">\n          <Column>\n            <div className=\"slideshow-ui\">\n              <SlideshowCounter\n                ref={this.counterRef}\n                slidesCount={this.slides.length}\n              />\n              <SlideshowControls\n                ref={this.slideshowControlsRef}\n                previous={this.goToPreviousSlide}\n                next={this.goToNextSlide}\n              />\n            </div>\n          </Column>\n          <Column>\n            <div className=\"infos\" ref={this.infosRef}>\n              <p>\n                UI experiment based on dribbble shots designed by{\" \"}\n                <a\n                  href=\"https://dribbble.com/hrvoje-grubisic\"\n                  className=\"link\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  Hrvoje Grubisic\n                </a>\n                .\n              </p>\n              <p>\n                Visuals belong to{\" \"}\n                <a\n                  href=\"https://thomas-blanchard.com/\"\n                  className=\"link\"\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  Thomas Blanchard\n                </a>\n                .\n              </p>\n            </div>\n          </Column>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport \"./scss/styles.scss\";\n\nimport App from \"./js/components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}